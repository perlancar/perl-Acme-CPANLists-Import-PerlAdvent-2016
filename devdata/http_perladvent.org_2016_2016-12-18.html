<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
    <meta http-equiv="Content-Language" content="en" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="generator" content="WWW::AdventCalendar v1.113" />
    <link rel="alternate" title="Perl Advent Calendar 2016 XML feed" href="atom.xml" type="application/atom+xml" />
    <link rel="shortcut icon" href="favicon.ico" />
    <link rel="stylesheet" href="style.css" type="text/css" />
    <link rel="stylesheet" href="2016.css" type="text/css" />
    <title>
Perl Advent Calendar 2016 - 
Warm and Fuzzy Inside

</title>
</head>
<body>
    <div id="contentwrapper">
        <div id="header">
            <h1><a href="index.html">Perl Advent Calendar 2016</a></h1>
        </div>

        <p id="tagline">2016 twenty four merry days of Perl
         <a class='feed' href="atom.xml">Feed</a>
        </p>

        <div id="content">
          

<h1 class='title'>Warm and Fuzzy Inside</h1>
<div class='subtitle'>Text::Fuzzy - 2016-12-18</div>

<div class='pod'><pre><code>  He knows when you&#39;re asleep
  He knows when you&#39;re awake
  He knows when you&#39;ve been bad or good
  So be good for goodness sake</code></pre>

<p>Sounds pretty nefarious, right? Jolly old elf indeed. Just how does Nick know so much about everyone? Truth be told, he has many proprietary mechanisms of collecting data in house but as is so often the case with large endeavours, he subcontracts much of the work out to other parties. In this case, he purchases commercial data sets from market research firms which you would think would lighten the load on his data mining elves however most of his contractors aren&#39;t as rigorous about data cleaning and normalization as they are.</p>

<p>Fortunately, the North Pole Crew have some experience with imprecise matching and <a href="http://perladvent.org/2008/20/">due to Santa&#39;s poor spelling</a>. In fact, earlier this month we saw <a href="http://perladvent.org/2016/2016-12-03.html">an article</a> on how they were testing modules for calculating <a href="https://en.wikipedia.org/wiki/Levenshtein_distance">Levenshtein distance</a> - the minimum number of single-character edits (i.e. insertions, deletions or substitutions) required to change one word into the other - to help work out how close the two strings are together. With this could the Elves splice their data and the commercial data sets together?</p>

<h3 id="Bad-Santa">Bad Santa</h3>

<p>The elves did some testing and sadly it didn&#39;t look good. The problem the Elves were facing is that Levenshtein distance alone wasn&#39;t being smart enough for them. Consider the following corruptions:</p>

<p><table class="pretty-table"> <tr> <th>Original</th> <th>Corrupted</th> <th>Levenshtein Distance</th> </tr> <tr class="alt"> <td>santa</td> <td>snata</td> <td>2</td> </tr> <tr> <td>santa</td> <td>sandy</td> <td>2</td> </tr> </table>

</p>



<p>In the first example the <code>an</code> from Santa&#39;s name simply got swapped to become <code>na</code>, whereas the second example requires two whole new characters replaced two old characters. However: these two examples have identical Levenshtein distance scores - how could the elves get their code to prioritize one over the other?</p>

<h3 id="Enter-Text::Fuzzy">Enter Text::Fuzzy</h3>

<p>Text::Fuzzy is a fuzzy text matcher that can not only calculate Levenshtein distance, but is also able to calculate Damerau-Levenshtein distance - counting character swaps as just one step. This gives us this much better looking result.</p>

<p><table class="pretty-table"> <tr> <th>Original</th> <th>Corrupted</th> <th>Damerau-Levenshtein Distance</th> </tr> <tr class="alt"> <td>santa</td> <td>snata</td> <td>1</td> </tr> <tr> <td>santa</td> <td>sandy</td> <td>2</td> </tr> </table>

</p>



<p>As a bonus the interface for Text::Fuzzy is also surprisingly simple:</p>

<table class='code-listing'><tr><td class='line-numbers'><br /><code>1:&nbsp;<br />2:&nbsp;</code><br />&nbsp;</td><td class='code'><br /><code><span class="word">say</span> <span class="word">Text::Fuzzy</span><span class="operator">-&gt;</span><span class="word">new</span><span class="structure">(</span> <span class="symbol">$corrupted</span><span class="operator">,</span> <span class="word">trans</span> <span class="operator">=&gt;</span> <span class="number">1</span> <span class="structure">)</span><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="operator">-&gt;</span><span class="word">distance</span><span class="structure">(</span> <span class="symbol">$original</span> <span class="structure">);</span></code><br />&nbsp;</td></table>

<p>(Note the use of the <code>trans</code> option there to enable Damerau-Levenshtein scores.)</p>

<p>Having Text::Fuzzy pick the one of the closest matches from a list is also really easy:</p>

<table class='code-listing'><tr><td class='line-numbers'><br /><code>1:&nbsp;<br />2:&nbsp;<br />3:&nbsp;<br />4:&nbsp;</code><br />&nbsp;</td><td class='code'><br /><code><span class="word">say</span> <span class="word">scalar</span> <span class="word">Text::Fuzzy</span><span class="operator">-&gt;</span><span class="word">new</span><span class="structure">(</span><span class="single">'blixen'</span><span class="structure">)</span><span class="operator">-&gt;</span><span class="word">nearestv</span><span class="structure">([</span><span class="words">qw(<br />&nbsp;&nbsp;&nbsp;dasher dancer prancer vixen comet<br />&nbsp;&nbsp;&nbsp;cupid donner blitzen rudolph<br />)</span><span class="structure">]);</span></code><br />&nbsp;</td></table>

<h3 id="Putting-It-All-Together">Putting It All Together</h3>

<p>With this tool in in mind, the Elves knocked together a proof-of-concept for combining the two data sets. The code takes two disparate CSVs and combines them into a single CSV - fuzzily!</p>

<table class='code-listing'><tr><td class='line-numbers'><br /><code>1:&nbsp;<br />2:&nbsp;<br />3:&nbsp;<br />4:&nbsp;<br />5:&nbsp;<br />6:&nbsp;<br />7:&nbsp;<br />8:&nbsp;<br />9:&nbsp;<br />10:&nbsp;<br />11:&nbsp;<br />12:&nbsp;<br />13:&nbsp;<br />14:&nbsp;<br />15:&nbsp;<br />16:&nbsp;<br />17:&nbsp;<br />18:&nbsp;<br />19:&nbsp;<br />20:&nbsp;<br />21:&nbsp;<br />22:&nbsp;<br />23:&nbsp;<br />24:&nbsp;<br />25:&nbsp;<br />26:&nbsp;<br />27:&nbsp;<br />28:&nbsp;<br />29:&nbsp;<br />30:&nbsp;<br />31:&nbsp;<br />32:&nbsp;<br />33:&nbsp;<br />34:&nbsp;<br />35:&nbsp;<br />36:&nbsp;<br />37:&nbsp;<br />38:&nbsp;<br />39:&nbsp;<br />40:&nbsp;<br />41:&nbsp;<br />42:&nbsp;<br />43:&nbsp;<br />44:&nbsp;<br />45:&nbsp;<br />46:&nbsp;<br />47:&nbsp;<br />48:&nbsp;<br />49:&nbsp;<br />50:&nbsp;<br />51:&nbsp;<br />52:&nbsp;<br />53:&nbsp;<br />54:&nbsp;<br />55:&nbsp;<br />56:&nbsp;<br />57:&nbsp;<br />58:&nbsp;<br />59:&nbsp;<br />60:&nbsp;<br />61:&nbsp;<br />62:&nbsp;<br />63:&nbsp;<br />64:&nbsp;<br />65:&nbsp;<br />66:&nbsp;<br />67:&nbsp;<br />68:&nbsp;<br />69:&nbsp;<br />70:&nbsp;<br />71:&nbsp;<br />72:&nbsp;<br />73:&nbsp;<br />74:&nbsp;</code><br />&nbsp;</td><td class='code'><br /><code><span class="comment">#!perl -l<br /></span><span class="keyword">use</span> <span class="word">Text::Fuzzy</span><span class="structure">;</span><br /><span class="keyword">use</span> <span class="word">Text::xSV</span><span class="structure">;</span><br /><span class="keyword">use</span> <span class="word">Inline::Files</span> <span class="word">-backup</span><span class="structure">;</span><br /><span class="keyword">use</span> <span class="word">List::Util</span> <span class="single">'max'</span><span class="structure">;</span><br /><br /><span class="comment"># Minimum match level<br /></span><span class="keyword">my</span> <span class="symbol">$threshold</span> <span class="operator">=</span> <span class="number">85</span><span class="structure">;</span><br /><br /><span class="comment"># Configure to read the two CSVs embedded at the bottom of the<br /># example code.  One representing the Polar data and another<br /># representing the third party vendor data<br /></span><span class="keyword">my</span> <span class="symbol">$PDB</span> <span class="operator">=</span> <span class="word">Text::xSV</span><span class="operator">-&gt;</span><span class="word">new</span><span class="structure">(</span><span class="word">fh</span><span class="operator">=&gt;</span><span class="symbol">*POLARDB</span><span class="structure">);</span>  <span class="symbol">$PDB</span><span class="operator">-&gt;</span><span class="word">read_header</span><span class="structure">();</span><br /><span class="keyword">my</span> <span class="symbol">$VDB</span> <span class="operator">=</span> <span class="word">Text::xSV</span><span class="operator">-&gt;</span><span class="word">new</span><span class="structure">(</span><span class="word">fh</span><span class="operator">=&gt;</span><span class="symbol">*VENDORDB</span><span class="structure">);</span> <span class="symbol">$VDB</span><span class="operator">-&gt;</span><span class="word">read_header</span><span class="structure">();</span><br /><br /><span class="comment"># Print combined header row<br /></span><span class="keyword">my</span> <span class="symbol">@phead</span><span class="operator">,</span> <span class="symbol">@vhead</span><span class="structure">;</span><br /><span class="word">print</span> <span class="word">join</span><span class="structure">(</span><span class="single">','</span><span class="operator">,</span> <span class="symbol">@phead</span><span class="operator">=</span><span class="cast">@</span><span class="structure">{</span><span class="symbol">$PDB</span><span class="operator">-&gt;</span><span class="structure">{</span><span class="word">row</span><span class="structure">}}</span><span class="operator">,</span> <span class="single">'Match'</span><span class="operator">,</span> <span class="symbol">@vhead</span><span class="operator">=</span><span class="cast">@</span><span class="structure">{</span><span class="symbol">$VDB</span><span class="operator">-&gt;</span><span class="structure">{</span><span class="word">row</span><span class="structure">}}</span> <span class="structure">);</span><br /><br /><span class="comment"># Load all the vendor data into memory<br /></span><span class="keyword">my</span> <span class="symbol">@VDB</span><span class="structure">;</span><br /><span class="word">push</span><span class="structure">(</span><span class="symbol">@VDB</span><span class="operator">,</span> <span class="magic">$_</span><span class="structure">)</span> <span class="word">while</span><span class="structure">(</span> <span class="magic">$_</span> <span class="operator">=</span> <span class="symbol">$VDB</span><span class="operator">-&gt;</span><span class="word">fetchrow_hash</span><span class="structure">()</span> <span class="structure">);</span><br /><br /><span class="comment"># Process all the polar CSV lines and look for something we're reasonably<br /># confident is a match<br /></span><span class="keyword">while</span><span class="structure">(</span> <span class="keyword">my</span> <span class="symbol">$polarRecord</span> <span class="operator">=</span> <span class="symbol">$PDB</span><span class="operator">-&gt;</span><span class="word">fetchrow_hash</span><span class="structure">()</span> <span class="structure">){</span><br />&nbsp;&nbsp;<span class="keyword">my</span> <span class="symbol">$key</span> <span class="operator">=</span> <span class="word">serializePolarKey</span><span class="structure">(</span><span class="symbol">$polarRecord</span><span class="structure">);</span><br />&nbsp;&nbsp;<span class="keyword">my</span> <span class="symbol">$keyLen</span> <span class="operator">=</span> <span class="word">length</span><span class="structure">(</span><span class="symbol">$key</span><span class="structure">);</span><br />&nbsp;&nbsp;<span class="symbol">$TF</span> <span class="operator">=</span> <span class="word">Text::Fuzzy</span><span class="operator">-&gt;</span><span class="word">new</span><span class="structure">(</span><span class="symbol">$key</span><span class="operator">,</span> <span class="word">trans</span><span class="operator">=&gt;</span><span class="number">1</span> <span class="structure">);</span><br /><br />&nbsp;&nbsp;<span class="keyword">my</span> <span class="symbol">@matches</span><span class="structure">;</span><br />&nbsp;&nbsp;<span class="keyword">foreach</span> <span class="keyword">my</span> <span class="symbol">$vendorRecord</span> <span class="structure">(</span> <span class="symbol">@VDB</span> <span class="structure">){</span><br />&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">my</span> <span class="symbol">$dist</span> <span class="operator">=</span> <span class="symbol">$TF</span><span class="operator">-&gt;</span><span class="word">distance</span><span class="structure">(</span> <span class="word">serializeVendorKey</span><span class="structure">(</span><span class="symbol">$vendorRecord</span><span class="structure">)</span> <span class="structure">);</span><br />&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">my</span> <span class="symbol">$confidence</span> <span class="operator">=</span> <span class="word">int</span><span class="structure">(</span> <span class="number">100</span> <span class="operator">*</span> <span class="structure">(</span><span class="symbol">$keyLen</span><span class="operator">-</span><span class="symbol">$dist</span><span class="structure">)</span><span class="operator">/</span><span class="symbol">$keyLen</span><span class="structure">);</span><br />&nbsp;&nbsp;&nbsp;&nbsp;<span class="word">push</span> <span class="symbol">@matches</span><span class="operator">,</span> <span class="symbol">$confidence</span><span class="structure">;</span><br /><br /><span class="comment">    # Alternatively, stash match, and only return highest match after loop?<br /></span>    <span class="word">print</span> <span class="word">join</span><span class="structure">(</span><span class="single">','</span><span class="operator">,</span><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="cast">@</span><span class="structure">{</span><span class="symbol">$polarRecord</span><span class="structure">}{</span><span class="symbol">@phead</span><span class="structure">}</span><span class="operator">,</span><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="symbol">$confidence</span><span class="operator">,</span><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="cast">@</span><span class="structure">{</span><span class="symbol">$vendorRecord</span><span class="structure">}{</span><span class="symbol">@vhead</span><span class="structure">}</span> <span class="structure">)</span> <span class="word">if</span> <span class="symbol">$confidence</span> <span class="operator">&gt;=</span> <span class="symbol">$threshold</span><span class="structure">;</span><br />&nbsp;&nbsp;<span class="structure">}</span><br />&nbsp;&nbsp;<span class="keyword">unless</span><span class="structure">(</span> <span class="word">max</span><span class="structure">(</span><span class="symbol">@matches</span><span class="structure">)</span> <span class="operator">&gt;=</span> <span class="symbol">$threshold</span> <span class="structure">){</span><br />&nbsp;&nbsp;&nbsp;&nbsp;<span class="word">print</span> <span class="word">join</span><span class="structure">(</span><span class="single">','</span><span class="operator">,</span> <span class="cast">@</span><span class="structure">{</span><span class="symbol">$polarRecord</span><span class="structure">}{</span><span class="symbol">@phead</span><span class="structure">}</span><span class="operator">,</span> <span class="word">max</span><span class="structure">(</span><span class="symbol">@matches</span><span class="structure">));</span><br />&nbsp;&nbsp;<span class="structure">}</span><br /><span class="structure">}</span><br /><br /><span class="keyword">sub</span> <span class="word">serializePolarKey</span><span class="structure">{</span><br />&nbsp;&nbsp;<span class="keyword">return</span> <span class="word">sprintf</span><span class="structure">(</span><span class="double">&quot;%s %s %s,%s, %s, %s %s, %s&quot;</span><span class="operator">,</span><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="magic">$_</span><span class="structure">[</span><span class="number">0</span><span class="structure">]</span><span class="operator">-&gt;</span><span class="structure">{</span><span class="word">FirstName</span><span class="structure">}</span><span class="operator">,</span><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="magic">$_</span><span class="structure">[</span><span class="number">0</span><span class="structure">]</span><span class="operator">-&gt;</span><span class="structure">{</span><span class="word">MiddleName</span><span class="structure">}</span><span class="operator">,</span><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="magic">$_</span><span class="structure">[</span><span class="number">0</span><span class="structure">]</span><span class="operator">-&gt;</span><span class="structure">{</span><span class="word">LastName</span><span class="structure">}</span><span class="operator">,</span><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="magic">$_</span><span class="structure">[</span><span class="number">0</span><span class="structure">]</span><span class="operator">-&gt;</span><span class="structure">{</span><span class="word">Street</span><span class="structure">}</span><span class="operator">,</span><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="magic">$_</span><span class="structure">[</span><span class="number">0</span><span class="structure">]</span><span class="operator">-&gt;</span><span class="structure">{</span><span class="word">City</span><span class="structure">}</span><span class="operator">,</span><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="magic">$_</span><span class="structure">[</span><span class="number">0</span><span class="structure">]</span><span class="operator">-&gt;</span><span class="structure">{</span><span class="word">Province</span><span class="structure">}</span><span class="operator">,</span><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="magic">$_</span><span class="structure">[</span><span class="number">0</span><span class="structure">]</span><span class="operator">-&gt;</span><span class="structure">{</span><span class="word">PostCode</span><span class="structure">}</span><span class="operator">,</span><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="magic">$_</span><span class="structure">[</span><span class="number">0</span><span class="structure">]</span><span class="operator">-&gt;</span><span class="structure">{</span><span class="word">Country</span><span class="structure">}</span> <span class="structure">);</span><br /><span class="structure">}</span><br /><br /><span class="keyword">sub</span> <span class="word">serializeVendorKey</span><span class="structure">{</span><br />&nbsp;&nbsp;<span class="keyword">return</span> <span class="magic">$_</span><span class="structure">[</span><span class="number">0</span><span class="structure">]</span><span class="operator">-&gt;</span><span class="structure">{</span><span class="word">FullName</span><span class="structure">}</span> <span class="operator">.</span> <span class="single">','</span><span class="operator">.</span> <span class="magic">$_</span><span class="structure">[</span><span class="number">0</span><span class="structure">]</span><span class="operator">-&gt;</span><span class="structure">{</span><span class="word">Address</span><span class="structure">};</span><br /><span class="structure">}</span><br /><br /><span class="word">__POLARDB__</span><br /><span class="word">ID</span><span class="operator">,</span><span class="word">FirstName</span><span class="operator">,</span><span class="word">MiddleName</span><span class="operator">,</span><span class="word">LastName</span><span class="operator">,</span><span class="word">Street</span><span class="operator">,</span><span class="word">City</span><span class="operator">,</span><span class="word">Province</span><span class="operator">,</span><span class="word">PostCode</span><span class="operator">,</span><span class="word">Country</span><br /><span class="number">1</span><span class="operator">,</span><span class="word">John</span><span class="operator">,</span><span class="word">Jacob</span><span class="operator">,</span><span class="word">Jingleheimer-Schmidt</span><span class="operator">,</span><span class="number">1320</span> <span class="word">Needham</span> <span class="word">Drive</span><span class="operator">,</span><span class="word">Centreville</span><span class="operator">,</span><span class="word">NV</span><span class="operator">,</span><span class="number">89119</span><span class="operator">,</span><span class="word">USA</span><br /><span class="number">2</span><span class="operator">,</span><span class="word">Bartholomew</span><span class="operator">,</span><span class="word">Jay</span><span class="operator">,</span><span class="word">Simpson</span><span class="operator">,</span><span class="number">1322</span> <span class="word">Evergreen</span> <span class="word">Terrace</span><span class="operator">,</span><span class="word">Springfield</span><span class="operator">,,,</span><span class="word">USA</span><br /><span class="number">3</span><span class="operator">,</span><span class="word">Marie</span> <span class="word">Claire</span><span class="operator">,,</span><span class="word">Dubois</span><span class="operator">,</span><span class="number">62</span> <span class="word">Clos</span> <span class="word">du</span> <span class="word">Bois</span> <span class="word">Rossia</span><span class="operator">,</span><span class="word">Namur</span><span class="operator">,,</span><span class="number">5017</span><span class="operator">,</span><span class="word">BE</span><br /><span class="word">__VENDORDB__</span><br /><span class="word">FullName</span><span class="operator">,</span><span class="word">Address</span><span class="operator">,</span><span class="word">ExtraData</span><br /><span class="word">Jon</span> <span class="word">Jacob</span> <span class="word">Jingleheimmer</span> <span class="word">Schmitt</span><span class="operator">,</span><span class="double">&quot;1320 Needham Dr, Centerville, NV 89119, USA&quot;</span><span class="operator">,</span><span class="word">Tm90aGluZyB0byBzZWUgaGVyZS4</span><span class="operator">=</span><br /><span class="word">Bart</span> <span class="word">Simpson</span><span class="operator">,</span><span class="double">&quot;1322 Evergreen Ter., Springfield USA&quot;</span><span class="operator">,</span><span class="word">SSdtIGdldHRpbicgbm91dHRpbicgZm9yIENocmlzdG1hcw</span><span class="operator">==</span><br /><span class="word">Mary</span> <span class="word">Claire</span> <span class="word">Dubois</span><span class="operator">,</span><span class="double">&quot;62 Clos duBois Russia,Namur,,5017,BE&quot;</span><span class="operator">,</span><span class="word">dGl0aSB0b3RvIHR1dHUgdGF0YQ</span><span class="operator">==</span><br /><span class="word">Marie</span> <span class="word">Claire</span> <span class="word">du</span> <span class="word">Bois</span><span class="operator">,</span><span class="double">&quot;26 Clos du Bois Rossia,Namur,,5017,BE&quot;</span><span class="operator">,</span><span class="word">SidhaW1lIGJpbmUgbGVzIGhpc3RvaXJlcyBkZSBHYXN0b24gTGFnYWZmZQ</span><span class="operator">==</span></code><br />&nbsp;</td></table>

<h4 id="Output">Output</h4>

<pre><code>  ID,FirstName,MiddleName,LastName,Street,City,Province,PostCode,Country,Match,FullName,Address,ExtraData
  1,John,Jacob,Jingleheimer-Schmidt,1320 Needham Drive,Centreville,NV,89119,USA,89,Jon Jacob Jingleheimmer Schmitt,1320 Needham Dr, Centerville, NV 89119, USA,Tm90aGluZyB0byBzZWUgaGVyZS4=
  2,Bartholomew,Jay,Simpson,1322 Evergreen Terrace,Springfield,,,USA,71
  3,Marie Claire,,Dubois,62 Clos du Bois Rossia,Namur,,5017,BE,85,Mary Claire Dubois,62 Clos duBois Russia,Namur,,5017,BE,dGl0aSB0b3RvIHR1dHUgdGF0YQ==
  3,Marie Claire,,Dubois,62 Clos du Bois Rossia,Namur,,5017,BE,85,Marie Claire du Bois,26 Clos du Bois Rossia,Namur,,5017,BE,SidhaW1lIGJpbmUgbGVzIGhpc3RvaXJlcyBkZSBHYXN0b24gTGFnYWZmZQ==</code></pre>

</div>

<div id='author'>
<img alt='Gravatar Image' style='vertical-align:middle' src=http://www.gravatar.com/avatar/addf74adf052ae82ea2ab6d439e3e876?r=g&s=80&d=retro />
This article contributed by: Jerrad Pierce &lt;jpierce@cpan.org&gt;
</div>


<ul id="pager">
    <li class="previous"><a title="Writing command line tools made easy" href="2016-12-17.html">Previous</a></li>

    <li class="next"><a title="Using containers with Linux" href="2016-12-19.html">Next</a></li>
</ul>
<div style="clear: both"></div>

        </div>

    </div>



<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-27056407-1");
pageTracker._trackPageview();
} catch(err) {}</script>
</body>
</html>





